<app-section-header [title]="'Antecedentes familiares y hereditarios'"></app-section-header>
<div class="py-3">
    <form *ngIf="form" [formGroup]="form">
        <table mat-table [dataSource]="dataSource" formArrayName="mainForm">
            <tr mat-header-row *matHeaderRowDef="headers"></tr>
            <tr mat-row *matRowDef="let row; let i = index; columns: headers"></tr>

            <ng-container matColumnDef="description">
                <th mat-header-cell *matHeaderCellDef>Descripcion</th>
                <td mat-cell *matCellDef="let element">{{ element.description }}</td>
            </ng-container>

            <ng-container class="px-3">
                <ng-container matColumnDef="mother">
                    <th mat-header-cell *matHeaderCellDef>Madre</th>
                    <td mat-cell *matCellDef="let element; let i = index" [formGroupName]="i">
                        <mat-checkbox formControlName="mother"></mat-checkbox>
                    </td>
                </ng-container>
                <ng-container matColumnDef="maternalGrandmother">
                    <th mat-header-cell *matHeaderCellDef>Abuela</th>
                    <td mat-cell *matCellDef="let element; let i = index" [formGroupName]="i">
                        <mat-checkbox formControlName="maternalGrandmother"></mat-checkbox>
                    </td>
                </ng-container>
                <ng-container matColumnDef="maternalGrandfather">
                    <th mat-header-cell *matHeaderCellDef>Abuelo</th>
                    <td mat-cell *matCellDef="let element; let i = index" [formGroupName]="i">
                        <mat-checkbox formControlName="maternalGrandfather"></mat-checkbox>
                    </td>
                </ng-container>
                <ng-container matColumnDef="maternalOthers">
                    <th mat-header-cell *matHeaderCellDef>Otros</th>
                    <td mat-cell *matCellDef="let element; let i = index" [formGroupName]="i">
                        <mat-checkbox formControlName="maternalOthers"></mat-checkbox>
                    </td>
                </ng-container>
            </ng-container>

            <ng-container matColumnDef="father">
                <th mat-header-cell *matHeaderCellDef>Padre</th>
                <td mat-cell *matCellDef="let element; let i = index" [formGroupName]="i">
                    <mat-checkbox formControlName="father"></mat-checkbox>
                </td>
            </ng-container>
            <ng-container matColumnDef="paternalGrandmother">
                <th mat-header-cell *matHeaderCellDef>Abuela</th>
                <td mat-cell *matCellDef="let element; let i = index" [formGroupName]="i">
                    <mat-checkbox formControlName="paternalGrandmother"></mat-checkbox>
                </td>
            </ng-container>
            <ng-container matColumnDef="paternalGrandfather">
                <th mat-header-cell *matHeaderCellDef>Abuelo</th>
                <td mat-cell *matCellDef="let element; let i = index" [formGroupName]="i">
                    <mat-checkbox formControlName="paternalGrandfather"></mat-checkbox>
                </td>
            </ng-container>
            <ng-container matColumnDef="paternalOthers">
                <th mat-header-cell *matHeaderCellDef>Otros</th>
                <td mat-cell *matCellDef="let element; let i = index" [formGroupName]="i">
                    <mat-checkbox formControlName="paternalOthers"></mat-checkbox>
                </td>
            </ng-container>
        </table>
        <div class="mt-5">
            <mat-form-field style="width: 60%;">
                <mat-label>Observaciones</mat-label>
                <textarea matInput
                          cdkTextareaAutosize
                          #autosize="cdkTextareaAutosize"
                          cdkAutosizeMinRows="1"
                          cdkAutosizeMaxRows="5"
                          formControlName="observations">
                </textarea>
            </mat-form-field>
        </div>
    </form>
</div>